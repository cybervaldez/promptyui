<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Block Picker — Finalists (3, 4, Hybrid, Border Cycle)</title>
<style>
:root {
    --bg-deep: #0a0a0a;
    --bg-surface: #161b22;
    --bg-elevated: #1c2128;
    --text-primary: #e6edf3;
    --text-secondary: #8b949e;
    --text-muted: #484f58;
    --reel-label: #e8943a;
    --reel-value: #529CCA;
    --reel-bg: rgba(82, 156, 202, 0.08);
    --font-mono: 'Courier New', Courier, monospace;
}

*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

body {
    font-family: var(--font-mono);
    background: var(--bg-deep);
    color: var(--text-primary);
    padding: 2rem 2.5rem;
    line-height: 1.6;
}

h1 { font-size: 1.1rem; color: var(--text-secondary); font-weight: 400; margin-bottom: 0.3rem; }
h1 span { color: var(--reel-value); }

.page-sub {
    font-size: 0.7rem;
    color: var(--text-muted);
    margin-bottom: 3rem;
    max-width: 65ch;
    line-height: 1.6;
}

.var-section { margin-bottom: 5rem; }
.var-label {
    font-size: 0.65rem;
    color: var(--reel-label);
    text-transform: uppercase;
    letter-spacing: 0.15em;
    margin-bottom: 0.4rem;
}
.var-desc {
    font-size: 0.72rem;
    color: var(--text-muted);
    margin-bottom: 1.2rem;
    max-width: 56ch;
    line-height: 1.55;
}

hr.sep { border: none; border-top: 1px solid rgba(72, 79, 88, 0.25); margin: 0 0 5rem; }

/* ── Shared mock editor ── */
.mock-editor {
    background: var(--bg-surface);
    border: 1px solid rgba(72, 79, 88, 0.35);
    border-radius: 8px;
    padding: 1.4rem 1.8rem;
    max-width: 560px;
    position: relative;
    overflow: visible;
}

.mock-line {
    font-size: 0.92rem;
    line-height: 2.5em;
    color: var(--text-primary);
    white-space: nowrap;
    position: relative;
}

.mock-chip {
    display: inline-block;
    position: relative;
    vertical-align: middle;
    padding: 0 8px;
    border-radius: 4px;
    background: var(--reel-bg);
    height: 1.6em;
    line-height: 1.6em;
}
.mock-chip .chip-label {
    position: absolute;
    top: -1.2em;
    left: 0; right: 0;
    text-align: center;
    color: var(--reel-label);
    font-size: 0.5em;
    pointer-events: none;
}
.mock-chip .chip-value { color: var(--reel-value); }

.tree-conn { color: var(--text-muted); user-select: none; }

/* 3D keycap */
kbd {
    font-family: var(--font-mono);
    font-size: 8px;
    color: var(--text-secondary);
    background: var(--bg-elevated);
    border: 1px solid var(--text-muted);
    border-bottom: 2px solid var(--text-muted);
    border-radius: 2px;
    padding: 0 0.25em;
    display: inline-block;
    vertical-align: middle;
    line-height: 1.3;
    box-shadow: 0 1px 0 rgba(255,255,255,0.04), inset 0 1px 0 rgba(255,255,255,0.03);
}

/* ══════════════════════════════════════════════════
   A — MORPHING HINT (Original #3)
   ══════════════════════════════════════════════════ */

.va-hint-bar {
    display: flex;
    align-items: center;
    justify-content: center;
    position: absolute;
    bottom: -1px;
    left: 0;
    right: 0;
    z-index: 5;
}
.va-line-l, .va-line-r {
    flex: 1;
    height: 1px;
    opacity: 0.4;
}
.va-line-l { background: linear-gradient(90deg, transparent, var(--reel-value)); }
.va-line-r { background: linear-gradient(90deg, var(--reel-label), transparent); }

.va-opt {
    font-family: var(--font-mono);
    font-size: 0.62rem;
    color: var(--text-muted);
    padding: 0.2em 0.7em;
    cursor: pointer;
    transition: color 0.12s;
    white-space: nowrap;
    position: relative;
}
.va-opt:hover { color: var(--text-primary); }
.va-opt.active {
    color: var(--reel-value);
    font-weight: 700;
}
.va-opt.active::after {
    content: '';
    position: absolute;
    bottom: -2px;
    left: 20%; right: 20%;
    height: 2px;
    background: var(--reel-value);
    border-radius: 1px;
}
.va-sep { color: var(--text-muted); opacity: 0.3; font-size: 0.7rem; padding: 0 0.1em; }

/* ══════════════════════════════════════════════════
   B — GHOST BLOCK PREVIEW (Original #4)
   ══════════════════════════════════════════════════ */

.vb-ghost-area {
    margin-top: 0.3rem;
    border-top: 1px dashed rgba(72, 79, 88, 0.3);
    padding-top: 0.2rem;
}
.vb-ghost {
    display: none;
    line-height: 2.4em;
    font-size: 0.88rem;
    color: var(--text-muted);
    opacity: 0.55;
    position: relative;
    border-left: 2px solid var(--reel-value);
    padding-left: 0.8ch;
    animation: ghost-in 0.15s ease;
}
.vb-ghost.visible { display: block; }

@keyframes ghost-in {
    from { opacity: 0; transform: translateY(4px); }
    to { opacity: 0.55; transform: translateY(0); }
}

.vb-ghost .g-text { font-style: italic; }
.vb-ghost .g-chip {
    display: inline-block;
    padding: 0 6px;
    border-radius: 3px;
    background: rgba(82, 156, 202, 0.06);
    border: 1px dashed rgba(82, 156, 202, 0.2);
    color: var(--reel-value);
    opacity: 0.5;
    font-size: 0.85em;
    vertical-align: middle;
}
.vb-label {
    position: absolute;
    right: 0;
    top: 50%;
    transform: translateY(-50%);
    font-size: 0.6rem;
    color: var(--reel-value);
    background: var(--bg-surface);
    padding: 0.15em 0.5em;
    border-radius: 3px;
    border: 1px solid rgba(82, 156, 202, 0.2);
}
.vb-hint {
    text-align: right;
    font-size: 0.56rem;
    color: var(--text-muted);
    margin-top: 0.15rem;
    cursor: pointer;
}
.vb-hint:hover { color: var(--reel-value); }

/* ══════════════════════════════════════════════════
   C — HYBRID: Morphing Hint + Ghost Preview
   ══════════════════════════════════════════════════ */

.vc-hint-bar {
    display: flex;
    align-items: center;
    justify-content: center;
    position: absolute;
    bottom: -1px;
    left: 0;
    right: 0;
    z-index: 5;
}
.vc-line-l, .vc-line-r {
    flex: 1;
    height: 1px;
    opacity: 0.4;
}
.vc-line-l { background: linear-gradient(90deg, transparent, var(--reel-value)); }
.vc-line-r { background: linear-gradient(90deg, var(--reel-label), transparent); }

.vc-opt {
    font-family: var(--font-mono);
    font-size: 0.62rem;
    color: var(--text-muted);
    padding: 0.2em 0.7em;
    cursor: pointer;
    transition: color 0.12s;
    white-space: nowrap;
    position: relative;
}
.vc-opt:hover { color: var(--text-primary); }
.vc-opt.active {
    color: var(--reel-value);
    font-weight: 700;
}
.vc-opt.active::after {
    content: '';
    position: absolute;
    bottom: -2px;
    left: 20%; right: 20%;
    height: 2px;
    background: var(--reel-value);
    border-radius: 1px;
}
.vc-sep { color: var(--text-muted); opacity: 0.3; font-size: 0.7rem; padding: 0 0.1em; }

/* Ghost under the editor for the hybrid */
.vc-ghost-area {
    max-width: 560px;
    margin-top: 0.5rem;
    min-height: 2.8em;
}
.vc-ghost {
    display: none;
    line-height: 2.4em;
    font-size: 0.88rem;
    color: var(--text-muted);
    opacity: 0.45;
    position: relative;
    border-left: 2px solid var(--reel-value);
    padding-left: 0.8ch;
    animation: ghost-in 0.15s ease;
}
.vc-ghost.visible { display: block; }
.vc-ghost .g-text { font-style: italic; }
.vc-ghost .g-chip {
    display: inline-block;
    padding: 0 6px;
    border-radius: 3px;
    background: rgba(82, 156, 202, 0.06);
    border: 1px dashed rgba(82, 156, 202, 0.2);
    color: var(--reel-value);
    opacity: 0.5;
    font-size: 0.85em;
    vertical-align: middle;
}

/* ══════════════════════════════════════════════════
   D — BORDER CYCLE: Label sits ON the gradient border
   ══════════════════════════════════════════════════ */

.vd-border-wrap {
    position: absolute;
    bottom: -1px;
    left: 0;
    right: 0;
    height: 0;
    overflow: visible;
    z-index: 5;
}

/* The full gradient line */
.vd-border-line {
    position: absolute;
    left: 0;
    right: 0;
    top: 0;
    height: 1px;
    background: linear-gradient(90deg, transparent 0%, var(--reel-value) 20%, var(--reel-label) 80%, transparent 100%);
    opacity: 0.5;
}

/* The cycle label sits centered on the border */
.vd-cycle-label {
    position: absolute;
    left: 50%;
    top: 0;
    transform: translate(-50%, -50%);
    background: var(--bg-surface);
    padding: 0 0.5em;
    font-size: 9px;
    color: var(--text-secondary);
    white-space: nowrap;
    cursor: pointer;
    transition: color 0.12s;
    line-height: 1.5;
    letter-spacing: 0.02em;
}
.vd-cycle-label:hover { color: var(--reel-value); }
.vd-cycle-label .mode-text { color: var(--reel-value); }

/* Ghost preview below the editor */
.vd-ghost-area {
    max-width: 560px;
    margin-top: 0.6rem;
    min-height: 2.8em;
}
.vd-ghost {
    display: none;
    line-height: 2.4em;
    font-size: 0.88rem;
    color: var(--text-muted);
    opacity: 0.45;
    position: relative;
    border-left: 2px solid var(--reel-value);
    padding-left: 0.8ch;
    animation: ghost-in 0.15s ease;
}
.vd-ghost.visible { display: block; }
.vd-ghost .g-text { font-style: italic; }
.vd-ghost .g-chip {
    display: inline-block;
    padding: 0 6px;
    border-radius: 3px;
    background: rgba(82, 156, 202, 0.06);
    border: 1px dashed rgba(82, 156, 202, 0.2);
    color: var(--reel-value);
    opacity: 0.5;
    font-size: 0.85em;
    vertical-align: middle;
}
</style>
</head>
<body>

<h1>Block Picker Finalists — <span>3, 4, Hybrid, Border Cycle</span></h1>
<p class="page-sub">Four variations: the two you liked (#3 Morphing Hint, #4 Ghost Preview), a hybrid combining both, and a new variation where the gradient border itself carries the cycling label with a ghost preview below.</p>

<!-- ════════════════════════════════════════════════════
     A — MORPHING HINT (Original #3)
     ════════════════════════════════════════════════════ -->
<section class="var-section">
    <div class="var-label">A — Morphing Hint</div>
    <div class="var-desc">The gradient border becomes a 3-option selector. Click an option to set sticky default. Active choice gets an underline accent. No popup, no extra surface — the border IS the picker.</div>

    <div class="mock-editor" style="overflow:visible">
        <div class="mock-line">A cabin in the forest with <span class="mock-chip"><span class="chip-label">lighting</span><span class="chip-value">natural</span></span> lighting</div>
        <div class="va-hint-bar">
            <span class="va-line-l"></span>
            <span class="va-opt active" onclick="pickOpt(this,'va-opt')">New Line</span>
            <span class="va-sep">|</span>
            <span class="va-opt" onclick="pickOpt(this,'va-opt')">Nest Child</span>
            <span class="va-sep">|</span>
            <span class="va-opt" onclick="pickOpt(this,'va-opt')">Fork</span>
            <span class="va-line-r"></span>
        </div>
    </div>
</section>

<hr class="sep">

<!-- ════════════════════════════════════════════════════
     B — GHOST BLOCK PREVIEW (Original #4)
     ════════════════════════════════════════════════════ -->
<section class="var-section">
    <div class="var-label">B — Ghost Block Preview</div>
    <div class="var-desc">No menu — the result itself appears as a ghost. Click the label or the hint text to cycle through New Line, Nest Child, and Fork. You see exactly what you'll get before pressing Enter.</div>

    <div class="mock-editor">
        <div class="mock-line">A cabin in the forest with <span class="mock-chip"><span class="chip-label">lighting</span><span class="chip-value">natural</span></span> lighting</div>

        <div class="vb-ghost-area" id="vb1">
            <div class="vb-ghost visible" data-mode="line">
                <span class="g-text">type here...</span>
                <span class="vb-label"><kbd>Tab</kbd> New Line</span>
            </div>
            <div class="vb-ghost" data-mode="child">
                <span style="padding-left:2ch"><span class="tree-conn">&#9492;&#9472;&#9472; </span><span class="g-text">type here...</span></span>
                <span class="vb-label"><kbd>Tab</kbd> Nest Child</span>
            </div>
            <div class="vb-ghost" data-mode="fork">
                <span class="g-text">... </span><span class="g-chip">lighting</span>
                <span class="vb-label"><kbd>Tab</kbd> Fork</span>
            </div>
            <div class="vb-hint" onclick="cycleGhost('vb1')">click or Tab to cycle</div>
        </div>
    </div>
</section>

<hr class="sep">

<!-- ════════════════════════════════════════════════════
     C — HYBRID: Morphing Hint + Ghost Preview
     ════════════════════════════════════════════════════ -->
<section class="var-section">
    <div class="var-label">C — Hybrid (Hint Bar + Ghost)</div>
    <div class="var-desc">The gradient border shows all 3 options (like A). Below the editor, a ghost preview shows what the selected option will produce (like B). Click an option on the border — the ghost updates instantly.</div>

    <div class="mock-editor" style="overflow:visible">
        <div class="mock-line">A cabin in the forest with <span class="mock-chip"><span class="chip-label">lighting</span><span class="chip-value">natural</span></span> lighting</div>
        <div class="vc-hint-bar" id="vc-bar">
            <span class="vc-line-l"></span>
            <span class="vc-opt active" data-mode="line" onclick="vcPick(this)">New Line</span>
            <span class="vc-sep">|</span>
            <span class="vc-opt" data-mode="child" onclick="vcPick(this)">Nest Child</span>
            <span class="vc-sep">|</span>
            <span class="vc-opt" data-mode="fork" onclick="vcPick(this)">Fork</span>
            <span class="vc-line-r"></span>
        </div>
    </div>

    <div class="vc-ghost-area" id="vc-ghosts">
        <div class="vc-ghost visible" data-mode="line">
            <span class="g-text">type here...</span>
        </div>
        <div class="vc-ghost" data-mode="child">
            <span style="padding-left:2ch"><span class="tree-conn">&#9492;&#9472;&#9472; </span><span class="g-text">type here...</span></span>
        </div>
        <div class="vc-ghost" data-mode="fork">
            <span class="g-text">... </span><span class="g-chip">lighting</span>
        </div>
    </div>
</section>

<hr class="sep">

<!-- ════════════════════════════════════════════════════
     D — BORDER CYCLE: Single label on gradient border
     ════════════════════════════════════════════════════ -->
<section class="var-section">
    <div class="var-label">D — Border Cycle (single label)</div>
    <div class="var-desc">The gradient border carries a single cycling label: <kbd>Tab</kbd> + current mode name. Click it (or press Tab) to cycle through New Line → Nest Child → Fork. The ghost preview below updates to show the result. Minimal — one label, one click.</div>

    <div class="mock-editor" style="overflow:visible">
        <div class="mock-line">A cabin in the forest with <span class="mock-chip"><span class="chip-label">lighting</span><span class="chip-value">natural</span></span> lighting</div>
        <div class="vd-border-wrap">
            <div class="vd-border-line"></div>
            <span class="vd-cycle-label" id="vd-label" onclick="vdCycle()">
                <kbd>Tab</kbd> <span class="mode-text" id="vd-mode-text">New Line</span>
            </span>
        </div>
    </div>

    <div class="vd-ghost-area" id="vd-ghosts">
        <div class="vd-ghost visible" data-mode="line">
            <span class="g-text">type here...</span>
        </div>
        <div class="vd-ghost" data-mode="child">
            <span style="padding-left:2ch"><span class="tree-conn">&#9492;&#9472;&#9472; </span><span class="g-text">type here...</span></span>
        </div>
        <div class="vd-ghost" data-mode="fork">
            <span class="g-text">... </span><span class="g-chip">lighting</span>
        </div>
    </div>
</section>

<script>
/* ── A: Morphing Hint ── */
function pickOpt(el, cls) {
    el.closest('.va-hint-bar, .vc-hint-bar').querySelectorAll('.' + cls).forEach(function(o) { o.classList.remove('active'); });
    el.classList.add('active');
}

/* ── B: Ghost cycle ── */
var ghostStates = {};
function cycleGhost(containerId) {
    var modes = ['line', 'child', 'fork'];
    if (!ghostStates[containerId]) ghostStates[containerId] = 0;
    ghostStates[containerId] = (ghostStates[containerId] + 1) % modes.length;
    var container = document.getElementById(containerId);
    container.querySelectorAll('.vb-ghost').forEach(function(g) { g.classList.remove('visible'); });
    container.querySelector('.vb-ghost[data-mode="' + modes[ghostStates[containerId]] + '"]').classList.add('visible');
}
// Click labels to cycle too
document.querySelectorAll('.vb-label').forEach(function(lbl) {
    lbl.style.cursor = 'pointer';
    lbl.addEventListener('click', function() {
        cycleGhost(this.closest('.vb-ghost-area').id);
    });
});

/* ── C: Hybrid — hint bar drives ghost ── */
function vcPick(el) {
    var bar = el.closest('.vc-hint-bar');
    bar.querySelectorAll('.vc-opt').forEach(function(o) { o.classList.remove('active'); });
    el.classList.add('active');
    var mode = el.getAttribute('data-mode');
    var ghosts = document.getElementById('vc-ghosts');
    ghosts.querySelectorAll('.vc-ghost').forEach(function(g) { g.classList.remove('visible'); });
    ghosts.querySelector('.vc-ghost[data-mode="' + mode + '"]').classList.add('visible');
}

/* ── D: Border Cycle — single label cycles ── */
var vdModes = [
    { key: 'line',  text: 'New Line' },
    { key: 'child', text: 'Nest Child' },
    { key: 'fork',  text: 'Fork' }
];
var vdIdx = 0;

function vdCycle() {
    vdIdx = (vdIdx + 1) % vdModes.length;
    document.getElementById('vd-mode-text').textContent = vdModes[vdIdx].text;
    var ghosts = document.getElementById('vd-ghosts');
    ghosts.querySelectorAll('.vd-ghost').forEach(function(g) { g.classList.remove('visible'); });
    ghosts.querySelector('.vd-ghost[data-mode="' + vdModes[vdIdx].key + '"]').classList.add('visible');
}

/* ── Global: Tab key cycles D section when focused ── */
document.addEventListener('keydown', function(e) {
    if (e.key === 'Tab') {
        e.preventDefault();
        vdCycle();
    }
});
</script>

</body>
</html>
